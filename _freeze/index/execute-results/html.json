{
  "hash": "8085bce1f1419dc687ee24f532a63f61",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Currency Exchange Rates with Bayesian\nauthors:\n  - name: Priscilla Chen\n    affiliation: Calvin University\n    corresponding: true\nbibliography: references.bib\n---\n\n\n\n\n## Main Question:\n\nHow do Differentials in Interest rates, Inflation, and Country's economical Growth impact the currency exchange rate between US dollars and Chinese Yuan?\n\nHow confidently can we predict currency exchange rate from Differentials in Interest rates, Inflation, and Country's Economical Growth?\n\n*I would like to do a prediction model if possible, but if not, I'll be satisfied with an inference model as well.*\n\n## Data Preperation\n\n\n\n\n::: {.cell .hidden}\n\n```{.r .cell-code .hidden}\nlibrary(dagitty)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'dagitty' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(ggdag)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggdag' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'ggdag'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:stats':\n\n    filter\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(CalvinBayes)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: dplyr\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'dplyr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: ggplot2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggplot2' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: ggformula\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggformula' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: scales\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'scales' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: ggridges\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggridges' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading required package: bayesplot\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'bayesplot' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThis is bayesplot version 1.11.1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n- Online documentation and vignettes at mc-stan.org/bayesplot\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n- bayesplot theme set to bayesplot::theme_default()\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n   * Does _not_ affect other ggplot2 plots\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n   * See ?bayesplot_theme_set for details on theme setting\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'CalvinBayes'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:bayesplot':\n\n    rhat\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:datasets':\n\n    HairEyeColor\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(dplyr)\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'mosaic' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'mosaic'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:Matrix':\n\n    mean\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:scales':\n\n    rescale\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:ggplot2':\n\n    stat\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tidyverse' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tibble' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tidyr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'readr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'purrr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'stringr' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'forcats' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'lubridate' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.4     ✔ tibble    3.2.1\n✔ purrr     1.0.4     ✔ tidyr     1.3.1\n✔ readr     2.1.5     \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ readr::col_factor() masks scales::col_factor()\n✖ mosaic::count()     masks dplyr::count()\n✖ purrr::cross()      masks mosaic::cross()\n✖ purrr::discard()    masks scales::discard()\n✖ mosaic::do()        masks dplyr::do()\n✖ tidyr::expand()     masks Matrix::expand()\n✖ dplyr::filter()     masks ggdag::filter(), stats::filter()\n✖ dplyr::lag()        masks stats::lag()\n✖ tidyr::pack()       masks Matrix::pack()\n✖ mosaic::stat()      masks ggplot2::stat()\n✖ mosaic::tally()     masks dplyr::tally()\n✖ tidyr::unpack()     masks Matrix::unpack()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(readr)\n```\n:::\n\n\n\n\nData file 1: Monthly Exchange Rate between US dollars and Chinese Yuan, extracted from [Federal Researve](https://www.federalreserve.gov/releases/h10/current/) (Data range from 1990-2 to 2025-2)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nExchange_rate <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/FRB_H10 (1).csv\", skip = 5)\nExchange_rate <- Exchange_rate |>\n  mutate(Time.Period = paste0(Time.Period, \"-01\"))|>\n  rename(Exchange_rate = RXI_N.M.CH,\n         observation_date = Time.Period)\n```\n:::\n\n\n\n\nData File 2: Inflation: YEARLY Consumer Prices for USA from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/FPCPITOTLZGUSA). (Note this dataset only contain data till 2023)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nInflation_US <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/FPCPITOTLZGUSA.csv\")\nInflation_US <- Inflation_US |>\n  rename(Inflation_US = FPCPITOTLZGUSA )\n```\n:::\n\n\n\n\nData File 3: Inflation: YEARLY Consumer Prices for China from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/FPCPITOTLZGCHN). (Note this dataset only contain data till 2023)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nInflation_CN <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/FPCPITOTLZGCHN.csv\")\nInflation_CN <- Inflation_CN |>\n  rename(Inflation_CN = FPCPITOTLZGCHN )\n```\n:::\n\n\n\n\nData File 4: Monthly GDP Ratio to Trend for USA, downloaded from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/USALORSGPRTSTSAM). (Note this dataset only contain data till 2023-11-01)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nGDP_US <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/USALORSGPNOSTSAM.csv\")\nGDP_US <- GDP_US |>\n  rename(GDP_US = USALORSGPNOSTSAM )\n```\n:::\n\n\n\n\nData File 5: Monthly GDP Ratio to Trend for China, downloaded from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/CHNLORSGPRTSTSAM). (Note this dataset only contain data till 2024-02-01)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nGDP_CHINA <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/CHNLORSGPNOSTSAM.csv\")\nGDP_CHINA <- GDP_CHINA |>\n  rename(GDP_CN = CHNLORSGPNOSTSAM )\n```\n:::\n\n\n\n\nData file 6: Monthly US Interest Rate (Rates which Federal Reserve charge on banks for overnight borrow), downloaded from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/INTDSRUSM193N). (Note this dataset only contain data till 2021-08-01)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nInterest_US <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/INTDSRUSM193N.csv\")\nInterest_US <- Interest_US |>\n  rename(Interest_US = INTDSRUSM193N)\n```\n:::\n\n\n\n\nData file 7: Monthly Chinese Interest Rate (Rates which Federal Reserve charge on banks for overnight borrow), downloaded from [Federal Reserve Bank of St. Louis](https://fred.stlouisfed.org/series/INTDSRCNM193N)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nInterest_CN <- read.csv(\"C:/Users/prisc/OneDrive - Calvin University/2Spring/Stat343/Currency-Exchange-Rate-Project/datafiles/INTDSRCNM193N.csv\")\nInterest_CN <- Interest_CN |>\n  rename(Interest_CN = INTDSRCNM193N)\n```\n:::\n\n\n\n\n**Joined Data:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndatasets <- list(Exchange_rate,GDP_CHINA,GDP_US, Inflation_CN, Inflation_US, Interest_CN, Interest_US)\n\ndata <- reduce(datasets, full_join, by = \"observation_date\")\n\ndata <- data|>\n  mutate(Dif_GPD = GDP_CN - GDP_US,\n         Dif_Interest_Rate = Interest_CN - Interest_US,\n         Dif_Inflation_Rate = Inflation_CN - Inflation_US)\nglimpse(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 937\nColumns: 11\n$ observation_date   <chr> \"1990-01-01\", \"1990-02-01\", \"1990-03-01\", \"1990-04-…\n$ Exchange_rate      <dbl> 4.7339, 4.7339, 4.7339, 4.7339, 4.7339, 4.7339, 4.7…\n$ GDP_CN             <dbl> 96.86580, 96.60166, 96.44037, 96.36356, 96.35556, 9…\n$ GDP_US             <dbl> 101.34920, 101.37080, 101.36490, 101.31980, 101.227…\n$ Inflation_CN       <dbl> 3.052290, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Inflation_US       <dbl> 5.397956, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Interest_CN        <dbl> NA, NA, 9.00, 9.00, 9.00, 9.00, 9.00, 7.92, 7.92, 7…\n$ Interest_US        <dbl> 7.00, 7.00, 7.00, 7.00, 7.00, 7.00, 7.00, 7.00, 7.0…\n$ Dif_GPD            <dbl> -4.48340, -4.76914, -4.92453, -4.95624, -4.87174, -…\n$ Dif_Interest_Rate  <dbl> NA, NA, 2.00, 2.00, 2.00, 2.00, 2.00, 0.92, 0.92, 0…\n$ Dif_Inflation_Rate <dbl> -2.3456663, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n```\n\n\n:::\n:::\n\n\n\n\n*Alternatively, I want to also scale these variables (those starting with Dif), which I don't know how to yet.*\n\n## Casual Diagram:\n\n[Economics Help](https://www.economicshelp.org/macroeconomics/exchangerate/factors-influencing/) listed 5 factors that would affect exchange rate: rate of growth, Interest rate, Inflation rate, Competitiveness, and Speculations. Since competitiveness and Speculations are hard to measure quantitatively, they are not included. Besides, rate of growth is measured by GDP ratio.\n\n*The code for Casual Diagram is producing error right not, I haven't got to fixing it yet*\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# causal_diagram <- dagitty(\"dag{\n#   Interest_Rate -> Exchange_Rate;\n#   Interest_Rate -> Inflation_Rate;\n#   Inflation_Rate -> Exchange_Rate;\n#   Growth_Rate -> Exchange_Rate;\n# }\")\n# gg_dag(causal_diagram)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}